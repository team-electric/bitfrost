{"version":3,"sources":["../../../../src/resources/votes/__tests__/model.test.js"],"names":["describe","test","data","vote","Vote","jsonVote","toJSON","expect","toEqual","_id","any","Object","errors","validateSync","poll","properties","message","selection"],"mappings":";;AAAA;;AACA;;AACA;;;;;;;;AAEAA,QAAQ,CAAC,YAAD,EAAe,YAAM;AAE3BC,EAAAA,IAAI,CAAC,wBAAD,EAA2B,YAAM;AACnC,QAAMC,IAAI,GAAG,qBAAb;AACA,QAAMC,IAAI,GAAG,IAAIC,cAAJ,CAASF,IAAT,CAAb;AACA,QAAMG,QAAQ,GAAGF,IAAI,CAACG,MAAL,EAAjB;AAEAC,IAAAA,MAAM,CAACF,QAAD,CAAN,CAAiBG,OAAjB,mBACKN,IADL;AAEEO,MAAAA,GAAG,EAAEF,MAAM,CAACG,GAAP,CAAWC,MAAX;AAFP;AAID,GATG,CAAJ;AAWAV,EAAAA,IAAI,CAAC,6BAAD,EAAgC,YAAM;AACxC,QAAME,IAAI,GAAG,IAAIC,cAAJ,CAAS,EAAT,CAAb;AACA,QAAMQ,MAAM,GAAG,uBAAUT,IAAI,CAACU,YAAL,EAAV,EAA+B,CAA/B,CAAf;AAEAN,IAAAA,MAAM,CAACK,MAAM,CAACE,IAAP,CAAYC,UAAZ,CAAuBC,OAAxB,CAAN,CAAuCR,OAAvC,CAA+C,0BAA/C;AACAD,IAAAA,MAAM,CAACK,MAAM,CAACK,SAAP,CAAiBF,UAAjB,CAA4BC,OAA7B,CAAN,CAA4CR,OAA5C,CAAoD,+BAApD;AACD,GANG,CAAJ;AAQD,CArBO,CAAR","sourcesContent":["import Vote from '../model';\nimport { getErrors } from '../../../testing/lib/errors';\nimport { mockVote } from '../../../testing/fixtures/vote';\n\ndescribe('vote model', () => {\n\n  test('validates a good model', () => {\n    const data = mockVote();\n    const vote = new Vote(data);\n    const jsonVote = vote.toJSON();\n\n    expect(jsonVote).toEqual({\n      ...data,\n      _id: expect.any(Object)\n    });\n  });\n\n  test('requires poll and selection', () => {\n    const vote = new Vote({});\n    const errors = getErrors(vote.validateSync(), 2);\n\n    expect(errors.poll.properties.message).toEqual('Path `poll` is required.');\n    expect(errors.selection.properties.message).toEqual('Path `selection` is required.');\n  });\n\n});\n"],"file":"model.test.js"}