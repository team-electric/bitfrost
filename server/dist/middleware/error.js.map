{"version":3,"sources":["../../src/middleware/error.js"],"names":["errorHandler","err","req","res","next","status","message","HttpError","code","json","error","Error"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AACnD,MAAIC,MAAM,GAAG,GAAb;AACA,MAAIC,OAAO,GAAG,cAAd;;AAEA,MAAGL,GAAG,YAAYM,SAAlB,EAA6B;AAC3BF,IAAAA,MAAM,GAAGJ,GAAG,CAACO,IAAb;AACAF,IAAAA,OAAO,GAAGL,GAAG,CAACK,OAAd;AACD;;AAEDH,EAAAA,GAAG,CAACE,MAAJ,CAAWA,MAAX,EAAmBI,IAAnB,CAAwB;AAAEC,IAAAA,KAAK,EAAEJ;AAAT,GAAxB;AACD,CAVM;;;;IAaMC,S;;;;;AACX,2BAA+B;AAAA;;AAAA,QAAjBC,IAAiB,QAAjBA,IAAiB;AAAA,QAAXF,OAAW,QAAXA,OAAW;;AAAA;;AAC7B,mFAAMA,OAAN;AACA,UAAKE,IAAL,GAAYA,IAAZ;AACA,UAAKF,OAAL,GAAeA,OAAf;AAH6B;AAI9B;;;mBAL4BK,K","sourcesContent":["export const errorHandler = (err, req, res, next) => {\n  let status = 500;\n  let message = 'Server error'\n\n  if(err instanceof HttpError) {\n    status = err.code;\n    message = err.message\n  }\n\n  res.status(status).json({ error: message })\n}\n\n\nexport class HttpError extends Error {\n  constructor({ code, message }) {\n    super(message);\n    this.code = code;\n    this.message = message;\n  }\n}\n"],"file":"error.js"}