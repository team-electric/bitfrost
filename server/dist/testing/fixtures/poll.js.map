{"version":3,"sources":["../../../src/testing/fixtures/poll.js"],"names":["chance","require","Chance","mixin","poll","title","string","length","description","choices","Array","apply","map","mockPoll","mockPolls","reduce","acc","postPoll","token","app","post","set","send","then","res","body"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;AACA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,EAAf;;AAEAF,MAAM,CAACG,KAAP,CAAa;AACXC,EAAAA,IAAI,EAAE;AAAA,WAAO;AACXC,MAAAA,KAAK,EAAEL,MAAM,CAACM,MAAP,CAAc;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAd,CADI;AAEXC,MAAAA,WAAW,EAAER,MAAM,CAACM,MAAP,CAAc;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAd,CAFF;AAGXE,MAAAA,OAAO,EAAEC,KAAK,CAACC,KAAN,CAAY,IAAZ,EAAkB;AAAEJ,QAAAA,MAAM,EAAE;AAAV,OAAlB,EACNK,GADM,CACF;AAAA,eAAO;AAAEJ,UAAAA,WAAW,EAAER,MAAM,CAACM,MAAP,CAAc;AAAEC,YAAAA,MAAM,EAAE;AAAV,WAAd;AAAf,SAAP;AAAA,OADE;AAHE,KAAP;AAAA;AADK,CAAb;;AASO,IAAMM,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAMb,MAAM,CAACI,IAAP,EAAN;AAAA,CAAjB;;;;AAEA,IAAMU,SAAS,GAAG,SAAZA,SAAY,CAAAP,MAAM;AAAA,SAAIG,KAAK,CAACC,KAAN,CAAY,IAAZ,EAAkB;AAAEJ,IAAAA,MAAM,EAANA;AAAF,GAAlB,EAChCQ,MADgC,CACzB,UAAAC,GAAG;AAAA,8BAAQA,GAAR,UAAaH,QAAQ,EAArB;AAAA,GADsB,EACI,EADJ,CAAJ;AAAA,CAAxB;;;;AAGA,IAAMI,QAAQ,GAAG,SAAXA,QAAW,CAACb,IAAD,EAAOc,KAAP,EAAiB;AACvC,SAAO,wBAAQC,YAAR,EACJC,IADI,CACC,YADD,EAEJC,GAFI,CAEA,eAFA,mBAE2BH,KAF3B,GAGJI,IAHI,CAGClB,IAHD,EAIJmB,IAJI,CAIC,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAR;AAAA,GAJJ,CAAP;AAKD,CANM","sourcesContent":["import app from '../../app';\nimport request from 'supertest';\nconst chance = require('chance').Chance();\n\nchance.mixin({\n  poll: () => ({\n    title: chance.string({ length: 10 }),\n    description: chance.string({ length: 30 }),\n    choices: Array.apply(null, { length: 4 })\n      .map(() => ({ description: chance.string({ length: 15 }) }))\n  }),\n});\n\nexport const mockPoll = () => chance.poll();\n\nexport const mockPolls = length => Array.apply(null, { length })\n  .reduce(acc => [...acc, mockPoll()], []);\n\nexport const postPoll = (poll, token) => {\n  return request(app)\n    .post('/api/polls')\n    .set('Authorization', `Bearer ${token}`)\n    .send(poll)\n    .then(res => res.body);\n};\n"],"file":"poll.js"}