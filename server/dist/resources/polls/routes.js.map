{"version":3,"sources":["../../../src/resources/polls/routes.js"],"names":["post","requireAuth","req","res","next","body","title","description","choices","Poll","create","then","poll","json","catch","get","id","params","findById","lean","find","polls"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;eAEe,uBACZA,IADY,CACP,QADO,EACGC,oBADH,EACgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAAA,kBACPF,GAAG,CAACG,IADG;AAAA,MACvCC,KADuC,aACvCA,KADuC;AAAA,MAChCC,WADgC,aAChCA,WADgC;AAAA,MACnBC,OADmB,aACnBA,OADmB;;AAE/CC,iBAAKC,MAAL,CAAY;AAAEJ,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,WAAW,EAAXA,WAAT;AAAsBC,IAAAA,OAAO,EAAPA;AAAtB,GAAZ,EACGG,IADH,CACQ,UAAAC,IAAI;AAAA,WAAIT,GAAG,CAACU,IAAJ,CAASD,IAAT,CAAJ;AAAA,GADZ,EAEGE,KAFH,CAESV,IAFT;AAGD,CANY,EAQZW,GARY,CAQR,YARQ,EAQM,UAACb,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAAA,MAC7BY,EAD6B,GACtBd,GAAG,CAACe,MADkB,CAC7BD,EAD6B;;AAErCP,iBAAKS,QAAL,CAAcF,EAAd,EACGG,IADH,GAEGR,IAFH,CAEQ,UAAAC,IAAI;AAAA,WAAIT,GAAG,CAACU,IAAJ,CAASD,IAAT,CAAJ;AAAA,GAFZ,EAGGE,KAHH,CAGSV,IAHT;AAID,CAdY,EAgBZW,GAhBY,CAgBR,QAhBQ,EAgBE,UAACb,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACjCK,iBAAKW,IAAL,GACGD,IADH,GAEGR,IAFH,CAEQ,UAAAU,KAAK;AAAA,WAAIlB,GAAG,CAACU,IAAJ,CAASQ,KAAT,CAAJ;AAAA,GAFb,EAGGP,KAHH,CAGSV,IAHT;AAID,CArBY,C","sourcesContent":["import { Router } from 'express';\nimport Poll from './model';\nimport Vote from '../votes/model';\nimport requireAuth from '../../middleware/requireAuth';\n\nexport default Router()\n  .post('/polls', requireAuth, (req, res, next) => {\n    const { title, description, choices } = req.body;\n    Poll.create({ title, description, choices })\n      .then(poll => res.json(poll))\n      .catch(next);\n  })\n\n  .get('/polls/:id', (req, res, next) => {\n    const { id } = req.params;\n    Poll.findById(id)\n      .lean()\n      .then(poll => res.json(poll))\n      .catch(next);\n  })\n\n  .get('/polls', (req, res, next) => {\n    Poll.find()\n      .lean()\n      .then(polls => res.json(polls))\n      .catch(next);\n  });\n"],"file":"routes.js"}